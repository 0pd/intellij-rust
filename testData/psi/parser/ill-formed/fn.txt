FILE
  PsiComment(<EOL_COMMENT>)('// That's a sample of ill-formed (incomplete precisely speaking) snippets')
  PsiWhiteSpace('\n')
  PsiComment(<EOL_COMMENT>)('// that should nevertheless get almost canonical PSI structure')
  PsiWhiteSpace('\n\n')
  PsiComment(<EOL_COMMENT>)('// Trailing decl')
  PsiWhiteSpace('\n')
  RustItemImpl(ITEM)
    RustStmtItemImpl(STMT_ITEM)
      RustFnItemImpl(FN_ITEM)
        PsiElement(fn)('fn')
        PsiWhiteSpace(' ')
        PsiElement(<IDENTIFIER>)('add')
        RustGenericParamsImpl(GENERIC_PARAMS)
          <empty list>
        RustFnParamsImpl(FN_PARAMS)
          PsiElement(()('(')
          RustParamImpl(PARAM)
            RustPatRangeImpl(PAT_RANGE)
              RustPathWithColonsImpl(PATH_WITH_COLONS)
                RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                  PsiElement(<IDENTIFIER>)('x')
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            RustTypeSumImpl(TYPE_SUM)
              RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                PsiElement(<IDENTIFIER>)('i32')
          PsiElement(,)(',')
          PsiErrorElement:')' or <pat> expected, got 'fn'
            <empty list>
  PsiWhiteSpace('\n\n')
  PsiComment(<EOL_COMMENT>)('// Trailing '{'')
  PsiWhiteSpace('\n')
  RustItemImpl(ITEM)
    RustStmtItemImpl(STMT_ITEM)
      RustFnItemImpl(FN_ITEM)
        PsiElement(fn)('fn')
        PsiWhiteSpace(' ')
        PsiElement(<IDENTIFIER>)('add')
        RustGenericParamsImpl(GENERIC_PARAMS)
          <empty list>
        RustFnParamsImpl(FN_PARAMS)
          PsiElement(()('(')
          RustParamImpl(PARAM)
            RustPatRangeImpl(PAT_RANGE)
              RustPathWithColonsImpl(PATH_WITH_COLONS)
                RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                  PsiElement(<IDENTIFIER>)('x')
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            RustTypeSumImpl(TYPE_SUM)
              RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                PsiElement(<IDENTIFIER>)('i32')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          RustParamImpl(PARAM)
            RustPatRangeImpl(PAT_RANGE)
              RustPathWithColonsImpl(PATH_WITH_COLONS)
                RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                  PsiElement(<IDENTIFIER>)('y')
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            RustTypeSumImpl(TYPE_SUM)
              RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                PsiElement(<IDENTIFIER>)('i32')
          PsiElement())(')')
        PsiWhiteSpace(' ')
        RustRetTypeImpl(RET_TYPE)
          PsiElement(->)('->')
          PsiWhiteSpace(' ')
          RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
            PsiElement(<IDENTIFIER>)('i32')
        PsiWhiteSpace(' ')
        RustInnerAttrsAndBlockImpl(INNER_ATTRS_AND_BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n\n\n')
          PsiComment(<EOL_COMMENT>)('// Trailing 'expr'')
          PsiWhiteSpace('\n')
          RustDeclStmtImpl(DECL_STMT)
            RustItemImpl(ITEM)
              RustStmtItemImpl(STMT_ITEM)
                RustFnItemImpl(FN_ITEM)
                  PsiElement(fn)('fn')
                  PsiWhiteSpace(' ')
                  PsiElement(<IDENTIFIER>)('add0')
                  RustGenericParamsImpl(GENERIC_PARAMS)
                    <empty list>
                  RustFnParamsImpl(FN_PARAMS)
                    PsiElement(()('(')
                    RustParamImpl(PARAM)
                      RustPatRangeImpl(PAT_RANGE)
                        RustPathWithColonsImpl(PATH_WITH_COLONS)
                          RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                            PsiElement(<IDENTIFIER>)('x')
                      PsiElement(:)(':')
                      PsiWhiteSpace(' ')
                      RustTypeSumImpl(TYPE_SUM)
                        RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                          PsiElement(<IDENTIFIER>)('i32')
                    PsiElement(,)(',')
                    PsiWhiteSpace(' ')
                    RustParamImpl(PARAM)
                      RustPatRangeImpl(PAT_RANGE)
                        RustPathWithColonsImpl(PATH_WITH_COLONS)
                          RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                            PsiElement(<IDENTIFIER>)('y')
                      PsiElement(:)(':')
                      PsiWhiteSpace(' ')
                      RustTypeSumImpl(TYPE_SUM)
                        RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                          PsiElement(<IDENTIFIER>)('i32')
                    PsiElement())(')')
                  PsiWhiteSpace(' ')
                  RustRetTypeImpl(RET_TYPE)
                    PsiElement(->)('->')
                    PsiWhiteSpace(' ')
                    RustPathWithoutColonsImpl(PATH_WITHOUT_COLONS)
                      PsiElement(<IDENTIFIER>)('i32')
                  PsiWhiteSpace(' ')
                  RustInnerAttrsAndBlockImpl(INNER_ATTRS_AND_BLOCK)
                    PsiElement({)('{')
                    PsiWhiteSpace('\n  ')
                    RustBinaryExprImpl(BINARY_EXPR)
                      RustPathExprImpl(PATH_EXPR)
                        RustPathWithColonsImpl(PATH_WITH_COLONS)
                          RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                            PsiElement(<IDENTIFIER>)('x')
                      PsiWhiteSpace(' ')
                      PsiElement(+)('+')
                      PsiWhiteSpace(' ')
                      RustPathExprImpl(PATH_EXPR)
                        RustPathWithColonsImpl(PATH_WITH_COLONS)
                          RustPathWithColonsSegmentImpl(PATH_WITH_COLONS_SEGMENT)
                            PsiElement(<IDENTIFIER>)('y')
                    PsiErrorElement:'!', '(', '.', '::', <, '>', '[', '{' or '}' expected, got 'fn'
                      <empty list>
          PsiWhiteSpace('\n\n')
          RustDeclStmtImpl(DECL_STMT)
            RustItemImpl(ITEM)
              RustStmtItemImpl(STMT_ITEM)
                RustFnItemImpl(FN_ITEM)
                  PsiElement(fn)('fn')
                  PsiWhiteSpace(' ')
                  PsiElement(<IDENTIFIER>)('wrong_comma')
                  RustGenericParamsImpl(GENERIC_PARAMS)
                    <empty list>
                  RustFnParamsImpl(FN_PARAMS)
                    PsiElement(()('(')
                PsiErrorElement:'->', where or '{' expected, got ','
                  <empty list>
  PsiElement(,)(',')
  PsiElement())(')')
  PsiWhiteSpace(' ')
  PsiElement(->)('->')
  PsiWhiteSpace(' ')
  PsiElement(<IDENTIFIER>)('i32')
  PsiWhiteSpace(' ')
  PsiElement({)('{')
  PsiWhiteSpace('\n')
  PsiElement(})('}')