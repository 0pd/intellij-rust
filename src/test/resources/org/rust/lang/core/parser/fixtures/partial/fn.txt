FILE
  PsiComment(<EOL_COMMENT>)('// That's a sample of ill-formed (incomplete precisely speaking) snippets')
  PsiWhiteSpace('\n')
  PsiComment(<EOL_COMMENT>)('// that should nevertheless get almost canonical PSI structure')
  PsiWhiteSpace('\n\n')
  PsiComment(<EOL_COMMENT>)('// Trailing decl')
  PsiWhiteSpace('\n')
  RustFnItemElementImpl(FN_ITEM)
    PsiElement(fn)('fn')
    PsiWhiteSpace(' ')
    PsiElement(<IDENTIFIER>)('add')
    RustParametersElementImpl(PARAMETERS)
      PsiElement(()('(')
      RustParameterElementImpl(PARAMETER)
        RustPatIdentElementImpl(PAT_IDENT)
          RustPatBindingElementImpl(PAT_BINDING)
            PsiElement(<IDENTIFIER>)('x')
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        RustPathTypeElementImpl(PATH_TYPE)
          RustPathElementImpl(PATH)
            PsiElement(<IDENTIFIER>)('i32')
      PsiElement(,)(',')
      PsiErrorElement:')' or <IDENTIFIER> expected, got 'fn'
        <empty list>
  PsiWhiteSpace('\n\n')
  PsiComment(<EOL_COMMENT>)('// Trailing '{'')
  PsiWhiteSpace('\n')
  RustFnItemElementImpl(FN_ITEM)
    PsiElement(fn)('fn')
    PsiWhiteSpace(' ')
    PsiElement(<IDENTIFIER>)('add')
    RustParametersElementImpl(PARAMETERS)
      PsiElement(()('(')
      RustParameterElementImpl(PARAMETER)
        RustPatIdentElementImpl(PAT_IDENT)
          RustPatBindingElementImpl(PAT_BINDING)
            PsiElement(<IDENTIFIER>)('x')
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        RustPathTypeElementImpl(PATH_TYPE)
          RustPathElementImpl(PATH)
            PsiElement(<IDENTIFIER>)('i32')
      PsiElement(,)(',')
      PsiWhiteSpace(' ')
      RustParameterElementImpl(PARAMETER)
        RustPatIdentElementImpl(PAT_IDENT)
          RustPatBindingElementImpl(PAT_BINDING)
            PsiElement(<IDENTIFIER>)('y')
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        RustPathTypeElementImpl(PATH_TYPE)
          RustPathElementImpl(PATH)
            PsiElement(<IDENTIFIER>)('i32')
      PsiElement())(')')
    PsiWhiteSpace(' ')
    RustRetTypeElementImpl(RET_TYPE)
      PsiElement(->)('->')
      PsiWhiteSpace(' ')
      RustPathTypeElementImpl(PATH_TYPE)
        RustPathElementImpl(PATH)
          PsiElement(<IDENTIFIER>)('i32')
    PsiWhiteSpace(' ')
    RustBlockElementImpl(BLOCK)
      PsiElement({)('{')
      PsiWhiteSpace('\n\n\n')
      PsiComment(<EOL_COMMENT>)('// Trailing 'expr'')
      PsiWhiteSpace('\n')
      RustFnItemElementImpl(FN_ITEM)
        PsiElement(fn)('fn')
        PsiWhiteSpace(' ')
        PsiElement(<IDENTIFIER>)('add0')
        RustParametersElementImpl(PARAMETERS)
          PsiElement(()('(')
          RustParameterElementImpl(PARAMETER)
            RustPatIdentElementImpl(PAT_IDENT)
              RustPatBindingElementImpl(PAT_BINDING)
                PsiElement(<IDENTIFIER>)('x')
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            RustPathTypeElementImpl(PATH_TYPE)
              RustPathElementImpl(PATH)
                PsiElement(<IDENTIFIER>)('i32')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          RustParameterElementImpl(PARAMETER)
            RustPatIdentElementImpl(PAT_IDENT)
              RustPatBindingElementImpl(PAT_BINDING)
                PsiElement(<IDENTIFIER>)('y')
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            RustPathTypeElementImpl(PATH_TYPE)
              RustPathElementImpl(PATH)
                PsiElement(<IDENTIFIER>)('i32')
          PsiElement())(')')
        PsiWhiteSpace(' ')
        RustRetTypeElementImpl(RET_TYPE)
          PsiElement(->)('->')
          PsiWhiteSpace(' ')
          RustPathTypeElementImpl(PATH_TYPE)
            RustPathElementImpl(PATH)
              PsiElement(<IDENTIFIER>)('i32')
        PsiWhiteSpace(' ')
        RustBlockElementImpl(BLOCK)
          PsiElement({)('{')
          PsiWhiteSpace('\n  ')
          RustBinaryExprElementImpl(BINARY_EXPR)
            RustPathExprElementImpl(PATH_EXPR)
              RustPathElementImpl(PATH)
                PsiElement(<IDENTIFIER>)('x')
            PsiWhiteSpace(' ')
            PsiElement(+)('+')
            PsiWhiteSpace(' ')
            RustPathExprElementImpl(PATH_EXPR)
              RustPathElementImpl(PATH)
                PsiElement(<IDENTIFIER>)('y')
          PsiWhiteSpace('\n\n')
          PsiErrorElement:'!' or ';' expected, got 'fn'
            PsiElement(fn)('fn')
          PsiElement(DUMMY_BLOCK)
            PsiWhiteSpace(' ')
            PsiElement(<IDENTIFIER>)('wrong_comma')
            PsiElement(()('(')
            PsiElement(,)(',')
            PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(->)('->')
            PsiWhiteSpace(' ')
            PsiElement(<IDENTIFIER>)('i32')
          PsiWhiteSpace(' ')
          PsiElement(DUMMY_BLOCK)
            PsiElement({)('{')
            PsiWhiteSpace('\n')
            PsiElement(})('}')
          PsiElement(DUMMY_BLOCK)
            PsiWhiteSpace('\n\n')
            PsiElement(unsafe)('unsafe')
            PsiWhiteSpace(' ')
            PsiElement(const)('const')
            PsiWhiteSpace(' ')
            PsiElement(fn)('fn')
            PsiWhiteSpace(' ')
            PsiElement(<IDENTIFIER>)('b')
            PsiElement(()('(')
            PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(->)('->')
            PsiWhiteSpace(' ')
            PsiElement(()('(')
            PsiElement())(')')
          PsiWhiteSpace(' ')
          PsiElement(DUMMY_BLOCK)
            PsiElement({)('{')
            PsiElement(DUMMY_BLOCK)
              PsiWhiteSpace(' ')
              PsiElement(()('(')
              PsiElement())(')')
            PsiWhiteSpace(' ')
            PsiElement(})('}')
